# FASE 4 ‚Äì Integra√ß√£o de Display LCD, Serial Plotter e Otimiza√ß√£o de Mem√≥ria no ESP32
Nesta fase, o projeto passou por uma evolu√ß√£o significativa com a implementa√ß√£o dos seguintes itens:

### 1. üìü Adi√ß√£o de Display LCD (I2C) no Wokwi

Foi adicionado um display LCD 16x2 com barramento I2C conectado ao ESP32, utilizando os pinos padr√£o SDA (21) e SCL (22). O display exibe em tempo real as principais m√©tricas monitoradas pelo sistema:

- Umidade relativa do ar (%)
- pH
- N√≠vel de nutrientes (f√≥sforo e pot√°ssio)
- Status da irriga√ß√£o (ativa/inativa)

#### Exemplo 1
```
Umidade: 69%
pH: 4.9
Fosforo(P): -  (desativado)
Potassio(K): - (desativado)
Bomba: OFF
```
> ![LCD funcionando](../simulador/images/displayLcd_1.png)

#### Exemplo 2
```
Umidade: 69%
pH: 4.9
Fosforo(P): -  (desativado)
Potassio(K): - (desativado)
Bomba: OFF
```
> ![LCD funcionando](../simulador/images/displayLcd_2.png)

#### Exemplo 3
```
Umidade: 28%
pH: 6.1
Fosforo(P): P  (ativado)
Potassio(K): K (ativado)
Bomba: ON
```
> ![LCD funcionando](../simulador/images/displayLcd_3.png)

### 2. üìà Monitoramento via Serial Plotter

O c√≥digo foi adaptado para imprimir no Serial os dados lidos pelos sensores. Isso permite a utiliza√ß√£o do Serial Plotter do Wokwi para visualizar em tempo real as varia√ß√µes de Temperatura e Umidade .

[Projeto WokiWi](https://wokwi.com/projects/434089547667747841)

Vari√°veis plotadas:
- Temperatura
- Umidade


#### Exemplo 1
```
Temperatura: 78.7
Umidade: 38.5%
Obs: Grafico mostrando as variaveis.
```
> ![Plotter Serial](../simulador/images/serial-plotter_1.png)
#### Exemplo 2
```
Temperatura: -16.8
Umidade: 31.0%
Obs: Grafico mostrando a queda.
```
> ![Plotter Serial](../simulador/images/serial-plotter_2.png)


### 3. ‚ôªÔ∏è Otimiza√ß√£o de Mem√≥ria no C√≥digo ESP32

Realizamos uma revis√£o no c√≥digo C++ para garantir melhor performance e economia de mem√≥ria. As seguintes a√ß√µes foram tomadas:

- Uso de tipos de dados apropriados:
  - float somente onde necess√°rio (por exemplo, leituras de sensores anal√≥gicos).
  - uint8_t para vari√°veis de controle e flags.
  - char[] no lugar de String para mensagens fixas.
- Declara√ß√µes const utilizadas para valores est√°ticos.
- Coment√°rios inseridos explicando cada otimiza√ß√£o diretamente no c√≥digo-fonte.

Trecho otimizado com coment√°rios:
```cpp
// Utilizamos uint8_t para economizar mem√≥ria com valores entre 0-255
uint8_t irrigationStatus = 0; 

// pH representado como float pois requer precis√£o de casas decimais
float phLevel = 6.7;

// Mensagem fixa otimizada usando array de char
const char irrigacaoMsg[] = "Irrigacao: Ligada";
```

## üß™ Testes Realizados

- ‚úÖ Display mostra dados corretamente ao ligar o sistema
- ‚úÖ Bomba √© acionada ao detectar valores cr√≠ticos
- ‚úÖ Gr√°ficos no Serial Plotter refletem os valores lidos


### üß† Conclus√£o
A Fase 4 agregou melhorias visuais e t√©cnicas ao projeto, permitindo o monitoramento em tempo real tanto no dispositivo (via display LCD) quanto virtualmente (via Serial Plotter).

### üîÅ Pull Request
üëâ [Link do Pull Request](https://github.com/TeamFiapAI/farmtech-2/pull/1)